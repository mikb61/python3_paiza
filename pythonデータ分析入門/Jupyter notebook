â­ï¸Jupyter Notebook

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§pip3 install notebook
jupyter notebook
ã§é–‹ãã€œï¼

æ¦‚è¦
	â€¢	ã‚¦ã‚§ãƒ–ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ Python ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹å¯¾è©±å‹ç’°å¢ƒ
	â€¢	ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œã€ã‚°ãƒ©ãƒ•ã®è¡¨ç¤ºã€Markdownã«ã‚ˆã‚‹èª¬æ˜ã®è¨˜è¿°ãŒåŒã˜ãƒãƒ¼ãƒˆä¸Šã§å¯èƒ½
	â€¢	ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»æ©Ÿæ¢°å­¦ç¿’ã®å­¦ç¿’ã‚„å®Ÿé¨“ã§ã‚ˆãä½¿ã‚ã‚Œã‚‹

ä¸»ãªç‰¹å¾´
	1.	ã‚»ãƒ«å˜ä½ã§å®Ÿè¡Œ
	â€¢	ã‚³ãƒ¼ãƒ‰ã‚»ãƒ«ï¼šPythonã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¦å®Ÿè¡Œ
	â€¢	Markdownã‚»ãƒ«ï¼šæ–‡ç« ã‚„æ•°å¼ã€ç”»åƒãªã©ã®èª¬æ˜ã‚’è¨˜è¿°
	2.	çµæœã®å³æ™‚è¡¨ç¤º
	â€¢	ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ãã®å ´ã§å‡ºåŠ›ã‚„ã‚°ãƒ©ãƒ•ãŒç¢ºèªã§ãã‚‹
	3.	å¤‰æ•°ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å…±æœ‰
	â€¢	åŒã˜ãƒãƒ¼ãƒˆå†…ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯åˆ¥ã‚»ãƒ«ã‹ã‚‰ã‚‚ä½¿ç”¨å¯èƒ½
	4.	è±Šå¯Œãªæ‹¡å¼µ
	â€¢	matplotlib, seaborn, pandas, numpy ãªã©ã®ç§‘å­¦è¨ˆç®—ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ç›¸æ€§ãŒè‰¯ã„
	â€¢	æ‹¡å¼µæ©Ÿèƒ½ï¼ˆJupyterLab, nbextensionsï¼‰ã§æ©Ÿèƒ½è¿½åŠ å¯èƒ½

åŸºæœ¬æ“ä½œ
	â€¢	ã‚»ãƒ«ã®ä½œæˆï¼šInsert â†’ Insert Cell Below/Above
	â€¢	ã‚»ãƒ«ã®å®Ÿè¡Œï¼šã‚»ãƒ«é¸æŠ â†’ Shift + Enter
	â€¢	ã‚»ãƒ«ã®ç¨®é¡å¤‰æ›´ï¼šCode / Markdown
	â€¢	ãƒãƒ¼ãƒˆã®ä¿å­˜ï¼šFile â†’ Save and Checkpoint
	â€¢	ã‚«ãƒ¼ãƒãƒ«ã®å†èµ·å‹•ï¼šKernel â†’ Restartï¼ˆå…¨å¤‰æ•°ãƒªã‚»ãƒƒãƒˆï¼‰

# Jupyter Notebook ä¾¿åˆ©ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

## ãƒ¢ãƒ¼ãƒ‰
- **ç·¨é›†ãƒ¢ãƒ¼ãƒ‰**ï¼ˆã‚»ãƒ«å†…ã§æ–‡å­—ç·¨é›†ï¼‰: Enter
- **ã‚³ãƒãƒ³ãƒ‰ãƒ¢ãƒ¼ãƒ‰**ï¼ˆã‚»ãƒ«æ“ä½œï¼‰: Esc

---

## ã‚³ãƒãƒ³ãƒ‰ãƒ¢ãƒ¼ãƒ‰ï¼ˆEscå¾Œï¼‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
| ã‚­ãƒ¼ | å‹•ä½œ |
|------|------|
| A    | ä¸Šã«ã‚»ãƒ«ã‚’æŒ¿å…¥ |
| B    | ä¸‹ã«ã‚»ãƒ«ã‚’æŒ¿å…¥ |
| X    | ã‚»ãƒ«ã‚’ã‚«ãƒƒãƒˆ |
| C    | ã‚»ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ |
| V    | ã‚»ãƒ«ã‚’ãƒšãƒ¼ã‚¹ãƒˆ |
| D, D | ã‚»ãƒ«ã‚’å‰Šé™¤ï¼ˆDã‚’2å›ï¼‰ |
| Z    | ã‚»ãƒ«å‰Šé™¤ã‚’å…ƒã«æˆ»ã™ |
| M    | ã‚»ãƒ«ã‚’Markdownã«å¤‰æ›´ |
| Y    | ã‚»ãƒ«ã‚’ã‚³ãƒ¼ãƒ‰ã«å¤‰æ›´ |
| Shift + â†‘ / â†“ | è¤‡æ•°ã‚»ãƒ«ã‚’é¸æŠ |
| Ctrl + S | ä¿å­˜ |
| Shift + M | é¸æŠã‚»ãƒ«ã‚’çµåˆ |
| Ctrl + Shift + - | ã‚»ãƒ«ã‚’åˆ†å‰² |

---

## ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ï¼ˆEnterå¾Œï¼‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
| ã‚­ãƒ¼ | å‹•ä½œ |
|------|------|
| Ctrl + Enter | ã‚»ãƒ«ã‚’å®Ÿè¡Œ |
| Shift + Enter | ã‚»ãƒ«ã‚’å®Ÿè¡Œã—ã¦ä¸‹ã«ç§»å‹• |
| Alt + Enter | ã‚»ãƒ«ã‚’å®Ÿè¡Œã—ã¦ä¸‹ã«æ–°è¦ã‚»ãƒ«ä½œæˆ |
| Ctrl + / | ã‚³ãƒ¡ãƒ³ãƒˆåˆ‡æ›¿ |
| Tab  | ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ / ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ |
| Shift + Tab | é–¢æ•°ã‚„å¤‰æ•°ã®ãƒ˜ãƒ«ãƒ—è¡¨ç¤ºï¼ˆ1å›ï¼‰ |
| Ctrl + Shift + - | ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã§ã‚»ãƒ«ã‚’åˆ†å‰² |

---

## ãã®ä»–ä¾¿åˆ©æ©Ÿèƒ½
- Markdownã‚»ãƒ«ã§ `#` â†’ è¦‹å‡ºã—ã€`**å¤ªå­—**` â†’ å¤ªå­—ã€`*æ–œä½“*` â†’ æ–œä½“
- LaTeX æ•°å¼: `$...$` å†…ã«è¨˜è¿°
- `%time` ã‚„ `%timeit` ã§å‡¦ç†æ™‚é–“æ¸¬å®š
- `%matplotlib inline` ã§ã‚°ãƒ©ãƒ•ã‚’ãƒãƒ¼ãƒˆå†…è¡¨ç¤º


# Jupyter Notebook Ã— pandas ä¾¿åˆ©ã¾ã¨ã‚ï¼ˆ1ãƒšãƒ¼ã‚¸ç‰ˆï¼‰

```python
# ========================
# 1. åŸºæœ¬ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
# ========================
import pandas as pd
import numpy as np  # å¿…è¦ã«å¿œã˜ã¦

# ========================
# 2. ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
# ========================
df_csv  = pd.read_csv("data.csv")
df_xls  = pd.read_excel("data.xlsx", sheet_name="Sheet1")
df_json = pd.read_json("data.json")

# ========================
# 3. ãƒ‡ãƒ¼ã‚¿ç¢ºèª
# ========================
df.head()        # å…ˆé ­5è¡Œ
df.tail(10)      # æœ«å°¾10è¡Œ
df.shape         # (è¡Œ,åˆ—)
df.info()        # ãƒ‡ãƒ¼ã‚¿å‹ãƒ»æ¬ æç¢ºèª
df.describe()    # æ•°å€¤åˆ—çµ±è¨ˆé‡
df.columns       # åˆ—åä¸€è¦§
df.index         # è¡Œãƒ©ãƒ™ãƒ«ä¸€è¦§

# ========================
# 4. ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
# ========================
df["åˆ—å"]         # å˜åˆ—
df[["åˆ—1","åˆ—2"]]  # è¤‡æ•°åˆ—
df.iloc[0]          # è¡Œç•ªå·ã§å–å¾—
df.iloc[0:5]        # è¤‡æ•°è¡Œ
df.loc[0]           # ãƒ©ãƒ™ãƒ«ã§å–å¾—
df.loc[0:5, ["åˆ—1","åˆ—2"]] # è¡Œã¨åˆ—ã‚’åŒæ™‚ã«æŒ‡å®š

# ========================
# 5. æ¡ä»¶æŠ½å‡º
# ========================
df[df["åˆ—å"] > 100]
df[(df["åˆ—1"]>50) & (df["åˆ—2"]<200)]

# ========================
# 6. åˆ—ã®è¿½åŠ ãƒ»è¨ˆç®—
# ========================
df["æ–°åˆ—"] = df["åˆ—1"] + df["åˆ—2"]
df["åˆ—å"].apply(lambda x: x*2)

# ========================
# 7. ä¸¦ã³æ›¿ãˆãƒ»ã‚½ãƒ¼ãƒˆ
# ========================
df.sort_values("åˆ—å", ascending=True)
df.sort_values(["åˆ—1","åˆ—2"], ascending=[True, False])

# ========================
# 8. é›†è¨ˆãƒ»çµ±è¨ˆ
# ========================
df["åˆ—å"].mean()
df["åˆ—å"].sum()
df["åˆ—å"].value_counts()
df.groupby("åˆ—1")["åˆ—2"].sum()
df.pivot_table(index="åˆ—1", columns="åˆ—2", values="åˆ—3", aggfunc="sum")

# ========================
# 9. æ¬ æå€¤å‡¦ç†
# ========================
df.isnull()
df.dropna()
df.fillna(0)

# ========================
# 10. ãƒ‡ãƒ¼ã‚¿æ›¸ãå‡ºã—
# ========================
df.to_csv("output.csv", index=False)
df.to_excel("output.xlsx", index=False)
df.to_json("output.json", orient="records")

# ========================
# 11. Jupyter Notebookä¾¿åˆ©ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
# ========================
# Ctrl + Enter    : ã‚»ãƒ«å®Ÿè¡Œ
# Shift + Enter   : ã‚»ãƒ«å®Ÿè¡Œå¾Œã«æ¬¡ã®ã‚»ãƒ«ã¸ç§»å‹•
# Alt + Enter     : ã‚»ãƒ«å®Ÿè¡Œå¾Œã«æ–°ã—ã„ã‚»ãƒ«ã‚’ä½œæˆ
# Esc + A         : ä¸Šã«ã‚»ãƒ«è¿½åŠ 
# Esc + B         : ä¸‹ã«ã‚»ãƒ«è¿½åŠ 
# Esc + D + D     : ã‚»ãƒ«å‰Šé™¤
# Ctrl + Shift + -: ã‚»ãƒ«åˆ†å‰²
# M               : ã‚»ãƒ«ã‚’Markdownã«å¤‰æ›´
# Y               : ã‚»ãƒ«ã‚’Codeã«å¤‰æ›´
# Tab             : è£œå®Œ
# Shift + Tab     : é–¢æ•°ã®ãƒ˜ãƒ«ãƒ—è¡¨ç¤º



# ç‰¹å®šè¡Œã‚’ã‚¹ã‚­ãƒƒãƒ—
skiprowså¼•æ•°ã«è¡Œç•ªå·ï¼ˆ0å§‹ã¾ã‚Šï¼‰ã®ãƒªã‚¹ãƒˆã‚’æ¸¡ã™ã¨ãã‚Œã‚‰ã®ç•ªå·ã®è¡Œã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦èª­ã¿è¾¼ã‚€ã€‚

import pandas as pd

students5 = pd.read_csv("csv/sample5.csv", skiprows=[2, 5])
students5

# ç‰¹å®šã®æ–‡å­—ä»¥é™ã‚’ã‚³ãƒ¡ãƒ³ãƒˆæ‰±ã„ã™ã‚‹
1è¡Œã®ã†ã¡ã€commentå¼•æ•°ã§æŒ‡å®šã•ã‚ŒãŸæ–‡å­—ä»¥é™ã¯ã‚³ãƒ¡ãƒ³ãƒˆæ‰±ã„ã•ã‚Œã€èª­ã¿è¾¼ã¿ã®éš›ã«ç„¡è¦–ã•ã‚Œã‚‹ã€‚

students6 = pd.read_csv("csv/sample6.csv", comment="#")
students6

# åˆ—ã«é–¢æ•°ã‚’é©ç”¨ã—ãªãŒã‚‰èª­ã¿è¾¼ã‚€
converterså¼•æ•°ã«ã€é–¢æ•°ã‚’é©ç”¨ã—ãŸã„åˆ—åã‚’ã‚­ãƒ¼ã€ãã®åˆ—ã«é©ç”¨ã—ãŸã„é–¢æ•°ã‚’å€¤ã¨ã™ã‚‹è¾æ›¸ã‚’æ¸¡ã™ã€‚

students7 = pd.read_csv("csv/sample.csv", converters={"name":  lambda s: s.capitalize()})
students7


# ãƒ•ã‚¡ã‚¤ãƒ«ã®å†’é ­æ•°æ¥­ã®ã¿ã‚’èª­ã¿è¾¼ã‚€
import pandas as pd

df = pd.read_csv("csv/long.csv", nrows=5)

# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ•°è¡Œã”ã¨ã«åŒºåˆ‡ã£ã¦èª­ã¿è¾¼ã¿ãªãŒã‚‰å„éƒ¨åˆ†ã«ãŠã‘ã‚‹å¹³å‡ã‚’æ±‚ã‚ã‚‹
chunks = pd.read_csv("csv/long.csv", chunksize=10)
for chunk in chunks:
    print(chunk["num"].mean()) 

	â€¢	chunk = ãƒ‡ãƒ¼ã‚¿ã®å¡Šãƒ»ã¾ã¨ã¾ã‚Š
	â€¢	å¤§ããªãƒ‡ãƒ¼ã‚¿ã‚’å°ã•ãåˆ†ã‘ã¦æ‰±ã†ã¨ãã«ä½¿ã†
	â€¢	pandas ã ã¨ chunksize ãŒã‚ˆãå‡ºã¦ãã‚‹




â­ï¸ DataFrameã®CSVãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®æ›¸ãå‡ºã—
import pandas as pd

mydf = pd.DataFrame({"a": {0: 10, 1: 20}, "b": {0: 30, 1: 40}})
mydf.to_csv("csv/mydf.csv")

# åŒºåˆ‡ã‚Šæ–‡å­—ã¨æ¬ æå€¤ã®è¡¨ç¤ºã‚’è¨­å®š
mydf2 = pd.DataFrame({"a": {0: float("nan"), 1: 20}, "b": {0: 30, 1: 40}})
mydf2.to_csv("csv/mydf2.csv", sep=" ", na_rep="deleted")

# ãƒ˜ãƒƒãƒ€ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æ›¸ãå‡ºã•ãªã„
mydf.to_csv("csv/mydf3.csv", header=False, index=False)

# ç‰¹å®šè¡Œã®ã¿ã®æ›¸ãå‡ºã—
mydf.to_csv("csv/mydf4.csv", columns=["b"])

# CSVä»¥å¤–ã®èª­ã¿æ›¸ããƒ¡ã‚½ãƒƒãƒ‰
pandas.read_json()
pandas.DataFrame.to_json()
pandas.read_excel()
pandas.DataFrame.to_excel()


â­ï¸ã€€Pandas ã‚°ãƒ©ãƒ•æç”»ãƒ¡ã‚½ãƒƒãƒ‰ã¾ã¨ã‚

| ãƒ¡ã‚½ãƒƒãƒ‰ | å†…å®¹ | ä¸»ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ä¾‹ |
|---------|-------|----------------|
| df.plot() | æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ | figsize=(), title="", grid=True |
| df.plot.line() | æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼ˆæ˜ç¤ºæŒ‡å®šï¼‰ | linestyle="-", marker="o" |
| df.plot.bar() | ç¸¦æ£’ã‚°ãƒ©ãƒ• | stacked=True, color= |
| df.plot.barh() | æ¨ªæ£’ã‚°ãƒ©ãƒ• | stacked=True |
| df.plot.hist() | ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ  | bins=10, alpha=0.5 |
| df.plot.box() | ç®±ã²ã’å›³ | vert=True |
| df.plot.area() | é¢ã‚°ãƒ©ãƒ• | stacked=True |
| df.plot.pie() | å††ã‚°ãƒ©ãƒ• | autopct="%1.1f%%", legend=False |
| df.plot.scatter(x, y) | æ•£å¸ƒå›³ | s=ã‚µã‚¤ã‚º, c=è‰² |
| df.plot.hexbin(x, y) | Hexbinå›³ | gridsize=25 |
| df.plot.kde() | ã‚«ãƒ¼ãƒãƒ«å¯†åº¦æ¨å®š | bw_method= |

## ğŸ”§ æç”»å…±é€šã‚ªãƒ—ã‚·ãƒ§ãƒ³
| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|-----------|------|
| figsize=(8,5) | ã‚°ãƒ©ãƒ•ã‚µã‚¤ã‚º |
| title="ã‚¿ã‚¤ãƒˆãƒ«" | ã‚¿ã‚¤ãƒˆãƒ« |
| grid=True | ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤º |
| legend=True/False | å‡¡ä¾‹è¡¨ç¤º |
| color="red" | è‰²æŒ‡å®š |
| xlabel="Xè»¸å", ylabel="Yè»¸å" | è»¸ãƒ©ãƒ™ãƒ«è¨­å®š |

## ğŸ“ ä½¿ç”¨ä¾‹ã‚µãƒ³ãƒ—ãƒ«
```python
import pandas as pd

df = pd.DataFrame({
    "A":[1,3,2,4],
    "B":[4,5,3,6]
})

df.plot(figsize=(8,5), title="æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•")
df.plot.bar(stacked=True)
df.plot.barh()
df.plot.hist(bins=5)
df.plot.scatter(x="A", y="B")

â­ï¸ ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹matplotlibã‚’ç”¨ã„ãŸã‚°ãƒ©ãƒ•æç”»

import pandas as pd
import matplotlib.pyplot as plt  # matplotlibã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€€â€»æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ãªã„ã®ã§ï¼

# ğŸ¨ Matplotlib ã‚°ãƒ©ãƒ•æç”»ã¾ã¨ã‚ï¼ˆå®Œå…¨ç‰ˆãƒ»ä¸€æ‹¬ã‚³ãƒ”ãƒšOKï¼‰

## ğŸ“Œ åŸºæœ¬æ§‹æ–‡
import matplotlib.pyplot as plt
plt.plot(x, y)
plt.show()

---

## ğŸ“Š ã‚°ãƒ©ãƒ•ç¨®é¡ & ä»£è¡¨ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§

| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚°ãƒ©ãƒ•ç¨®é¡ | ä¸»ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ä¾‹ |
|----------|------------|----------------|
| plt.plot(x, y) | æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ• | marker, linestyle, linewidth |
| plt.bar(x, y) | ç¸¦æ£’ã‚°ãƒ©ãƒ• | width |
| plt.barh(x, y) | æ¨ªæ£’ã‚°ãƒ©ãƒ• | height |
| plt.scatter(x, y) | æ•£å¸ƒå›³ | s=ç‚¹ã‚µã‚¤ã‚º, alpha |
| plt.hist(x) | ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ  | bins, range |
| plt.boxplot(data) | ç®±ã²ã’å›³ | vert |
| plt.pie(values) | å††ã‚°ãƒ©ãƒ• | labels, autopct |
| plt.stackplot(x, y1, y2) | ç©ã¿ä¸Šã’é¢ã‚°ãƒ©ãƒ• | labels |
| plt.fill_between(x, y1, y2) | å¡—ã‚Šã¤ã¶ã— | alpha |
| plt.errorbar(x, y, yerr=[]) | èª¤å·®æ£’ | capsize |

---

## âš™ å…±é€šã‚ªãƒ—ã‚·ãƒ§ãƒ³

| é …ç›® | ã‚³ãƒ¼ãƒ‰ |
|-------|-------|
| ã‚¿ã‚¤ãƒˆãƒ« | plt.title("ã‚¿ã‚¤ãƒˆãƒ«") |
| è»¸ãƒ©ãƒ™ãƒ« | plt.xlabel("Xè»¸"), plt.ylabel("Yè»¸") |
| å‡¡ä¾‹ | plt.legend() |
| ã‚°ãƒªãƒƒãƒ‰ | plt.grid(True) |
| å›³ã®ã‚µã‚¤ã‚º | plt.figure(figsize=(8,5)) |
| è»¸ç¯„å›² | plt.xlim(), plt.ylim() |
| ä¿å­˜ | plt.savefig("graph.png") |

---

## ğŸ“ æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã®ä¾‹
import matplotlib.pyplot as plt
x = [1,2,3,4,5]
y = [1,4,2,5,3]

plt.figure(figsize=(6,4))
plt.plot(x, y, marker="o", linestyle="--")
plt.title("æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•")
plt.xlabel("Xè»¸")
plt.ylabel("Yè»¸")
plt.grid(True)
plt.show()

---

## ğŸ§  Jupyter Notebook ã§ã®è¨­å®š
%matplotlib inline

â¡ Notebook ä¸Šã«ã‚°ãƒ©ãƒ•ãŒç›´æ¥è¡¨ç¤ºã•ã‚Œã‚‹

---

## ğŸ“¦ Pandas ã¨ Matplotlib ã®æ¯”è¼ƒ

| æ“ä½œ | Pandas | Matplotlib |
|-------|--------|------------|
| æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ• | df.plot() | plt.plot(x,y) |
| æ£’ã‚°ãƒ©ãƒ• | df.plot.bar() | plt.bar(x,y) |
| ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ  | df.plot.hist() | plt.hist(x) |
| æ•£å¸ƒå›³ | df.plot.scatter(x="a", y="b") | plt.scatter(x,y) |
| å††ã‚°ãƒ©ãƒ• | df.plot.pie() | plt.pie(values) |


# è¤‡æ•°ã®æŠ˜ã‚Œç·š

plt.plot([1, 4, 3, 2, 5], label="one")
plt.plot([4, 5, 2, 3, 0], label="two")
plt.legend()

plt.show()

# ç©ã¿ä¸Šã’æ£’ã‚°ãƒ©ãƒ•
h1 = pd.Series([1, 2, 1, 1, 2])
h2 = pd.Series([2, 1, 1, 2, 1])
h3 = pd.Series([6, 2, 1, 1, 2])

plt.bar(range(5), h1, label="one")
plt.bar(range(5), h2, bottom=h1, label="two")
plt.bar(range(5), h3, bottom=h1 + h2, label="three")
plt.legend()

plt.show()

# forãƒ«ãƒ¼ãƒ—ã‚’ä½¿ã†æ›¸ãæ–¹
h1 = pd.Series([1, 2, 1, 1, 2])
h2 = pd.Series([2, 1, 1, 2, 1])
h3 = pd.Series([6, 2, 1, 1, 2])

bottom = pd.Series([0] * 5)
hs = [(h1, "one"), (h2, "two"), (h3, "three")]

for h, label in hs:
    plt.bar(range(5),  h, bottom=bottom, label=label)
    bottom += h

plt.legend()
plt.show()


ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
fig = plt.figure(figsize=(4, 3), dpi=120)
ax = fig.add_subplot(2, 3, 1)
ax2 = fig.add_subplot(236)

ax.plot([1, 4, 3, 2, 5])
ax2.bar(range(5), [1, 4, 3, 2, 5])

plt.show()

ğŸ‘‰ 1ã¤ã® Figure ã‚’ä½œæˆ
	â€¢	figsize=(4,3) â†’ ã‚µã‚¤ã‚ºï¼ˆã‚¤ãƒ³ãƒï¼‰
	â€¢	dpi=120 â†’ è§£åƒåº¦
ğŸ‘‰ Figure ã®ä¸­ã®ä½ç½®ã‚’æŒ‡å®šã—ã¦ 2ã¤ã®å°ã•ãªã‚°ãƒ©ãƒ•é ˜åŸŸï¼ˆAxesï¼‰ã‚’ä½œã‚‹
ã€€ã€€2è¡Œ Ã— 3åˆ—ã®ã‚°ãƒªãƒƒãƒ‰ã® 1ç•ªç›®ã®ä½ç½®ã«é…ç½®
ã€€ã€€2è¡Œ Ã— 3åˆ—ã®ã‚°ãƒªãƒƒãƒ‰ã®ã€Œ6ç•ªç›®ã€ã®ä½ç½®ã«é…ç½®ï¼ˆçœç•¥è¨˜æ³• 2,3,6ï¼‰
ğŸ§  ä½ç½®ã‚¤ãƒ¡ãƒ¼ã‚¸
ã€€ã€€1 2 3
ã€€ã€€4 5 6
ğŸ‘‰ å·¦ä¸Šã«ã¯æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã€å³ä¸‹ã«ã¯æ£’ã‚°ãƒ©ãƒ•ã‚’æç”»

æŠ˜ã‚Œç·š(1)      (2)      (3)
(4)           (5)       æ£’ã‚°ãƒ©ãƒ•(6)




â­ï¸ seabornã«ã‚ˆã‚‹ã‚°ãƒ©ãƒ•æç”»
import pandas as pd
import seaborn as sns  # seabornã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

# Seaborn ã‚°ãƒ©ãƒ•æç”»ã¾ã¨ã‚

```python
import seaborn as sns
import pandas as pd
import matplotlib.pyplot as plt

# ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
df = pd.DataFrame({
    "x": [1, 2, 3, 4, 5],
    "y": [5, 3, 4, 2, 1],
    "category": ["A", "B", "A", "B", "A"]
})

# æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•
sns.lineplot(data=df, x="x", y="y")
plt.show()

# æ£’ã‚°ãƒ©ãƒ•ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¥ã®é›†è¨ˆã‚‚å¯ï¼‰
sns.barplot(data=df, x="category", y="y", ci=None)  # ci=Noneã§ã‚¨ãƒ©ãƒ¼ãƒãƒ¼éè¡¨ç¤º
plt.show()

# ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ï¼ˆåˆ†å¸ƒï¼‰
sns.histplot(data=df, x="y", bins=5, kde=False)  # kde=Trueã§å¯†åº¦æ›²ç·šã‚‚è¡¨ç¤º
plt.show()


# ğŸ“Š Pandas è¨ˆç®—ãƒ¡ã‚½ãƒƒãƒ‰ã¾ã¨ã‚ï¼ˆJupyter Notebookç”¨ï¼‰

## ğŸ”¢ åŸºæœ¬ã®çµ±è¨ˆãƒ¡ã‚½ãƒƒãƒ‰
| ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | ä¾‹ |
|---------|------|----|
| `sum()` | åˆè¨ˆ | `df['col'].sum()` |
| `mean()` | å¹³å‡ | `df['col'].mean()` |
| `max()` | æœ€å¤§å€¤ | `df['col'].max()` |
| `min()` | æœ€å°å€¤ | `df['col'].min()` |
| `count()` | å€¤ã®æ•° | `df['col'].count()` |
| `median()` | ä¸­å¤®å€¤ | `df['col'].median()` |
| `mode()` | æœ€é »å€¤ | `df['col'].mode()` |
| `std()` | æ¨™æº–åå·® | `df['col'].std()` |
| `var()` | åˆ†æ•£ | `df['col'].var()` |

---

## ğŸ“¦ å…¨ä½“ã®çµ±è¨ˆã¾ã¨ã‚ï¼ˆè¶…ä¾¿åˆ©ï¼‰
| ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | ä¾‹ |
|---------|------|----|
| `describe()` | åŸºæœ¬çµ±è¨ˆé‡ã®ã¾ã¨ã‚ | `df.describe()` |
| `info()` | æ¦‚è¦è¡¨ç¤ºï¼ˆå‹ãƒ»æ¬ ææ•°ãªã©ï¼‰ | `df.info()` |

---

## ğŸ” è¡Œãƒ»åˆ—å˜ä½ã®è¨ˆç®—
| å†…å®¹ | ä¾‹ |
|------|----|
| åˆ—ã”ã¨ã®åˆè¨ˆ | `df.sum()` |
| è¡Œã”ã¨ã®åˆè¨ˆ | `df.sum(axis=1)` |
| åˆ—ã”ã¨ã®å¹³å‡ | `df.mean()` |
| è¡Œã”ã¨ã®å¹³å‡ | `df.mean(axis=1)` |

---

## ğŸ¯ æ¡ä»¶ä»˜ãè¨ˆç®—
| å†…å®¹ | ä¾‹ |
|------|----|
| æ¡ä»¶ã§æŠ½å‡º | `df[df['sales'] > 100]` |
| æ¡ä»¶ã«åˆã†æ•° | `df[df['sales'] > 100].count()` |
| æ¡ä»¶ã§å¹³å‡ | `df[df['sales'] > 100]['profit'].mean()` |

---

## ğŸ§® åˆ—ã®è¿½åŠ è¨ˆç®—
| å†…å®¹ | ä¾‹ |
|------|----|
| å››å‰‡æ¼”ç®— | `df['price_tax'] = df['price'] * 1.1` |
| è¤‡æ•°åˆ—ã®è¨ˆç®— | `df['total'] = df['price'] * df['qty']` |
| é–¢æ•°ã§å¤‰æ› | `df['upper'] = df['name'].str.upper()` |

---

## ğŸ§‚ ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆGroupByï¼‰
| å†…å®¹ | ä¾‹ |
|------|----|
| ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥å¹³å‡ | `df.groupby('category')['sales'].mean()` |
| ã‚°ãƒ«ãƒ¼ãƒ—åˆ¥åˆè¨ˆ | `df.groupby('category').sum()` |
| è¤‡æ•°åˆ—é›†è¨ˆ | `df.groupby('category')[['sales','profit']].mean()` |
| é›†ç´„ | `df.groupby('category').agg({'sales':'sum','profit':'mean'})` |

---

## ğŸª„ æ¬ æå€¤å‡¦ç†
| å†…å®¹ | ä¾‹ |
|------|----|
| æ¬ æå€¤ã‚’å¹³å‡ã§åŸ‹ã‚ã‚‹ | `df['col'].fillna(df['col'].mean(), inplace=True)` |
| æ¬ æè¡Œã‚’å‰Šé™¤ | `df.dropna()` |
| æ¬ æãƒã‚§ãƒƒã‚¯ | `df.isna().sum()` |

---

### âœ” ç°¡å˜å‹•ä½œä¾‹

```python
import pandas as pd

df = pd.DataFrame({
    'price':[100,200,300],
    'qty':[1,2,3]
})

print(df.sum())
print(df.mean())
print(df.describe())
